---
openapi: "3.0.0"
schemes:
  - "http"
  - "https"
basePath: "/v1.24"
info:
  title: "derived from Pouch Engine API"
  version: "1.24"
  description: A variation on issue go-swagger/go-swagger#1609
paths:
  /_pang:
    get:
      parameters:
      - $ref: '#/components/parameters/funnyParam'
      responses:
        200:
          description: "no error"
          schema:
            type: "string"
            example: "OK"
        401:
          $ref: "#/components/responses/401ErrorResponse"
        404:
          $ref: "#/components/responses/404ErrorResponse"
        500:
          $ref: "#/components/responses/500ErrorResponse"
      501:
          $ref: "#/components/responses/funnyResponse"

definitions:
  Error:
    type: "object"
    properties:
      message:
        type: string

parameters:
  bodyWithRef:
    name: bodyWithRefParam
    in: body
    schema:
      $ref: "#/components/schemas/Error"
  nobodyWithRef:
    name: bodyWithRefParam
    in: query
    type: integer
    #required: true
  anotherBodyWithRef:
    name: anotherBodyWithRefParam
    in: body
    schema:
      $ref: "#/components/schemas/Error"
  funnyParam:
    name: funnyParam
    in: body
    schema:
      $ref: "#/components/responses/500ErrorResponse/schema"

responses:
  401ErrorResponse:
    description: An unexpected 401 error occurred.
    schema:
      $ref: "#/components/schemas/Error"
  404ErrorResponse:
    description: An unexpected 404 error occurred.
    schema:
      $ref: "#/components/schemas/Error"
  500ErrorResponse:
    description: An unexpected server error occurred.
    schema:
      $ref: "#/components/schemas/Error"
  funnyResponse:
    description: An unexpected server error occurred.
    schema:
      $ref: "#/components/responses/401ErrorResponse/schema"
  foulResponse:
    description: An unexpected server error occurred.
    schema:
      $ref: "#/components/responses/noSchemaResponse"
  noSchemaResponse:
    description: An unexpected server error occurred.
